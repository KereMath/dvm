<div class="chatbot-container" [class.expanded]="expanded">
  <!-- Sabit Chat AÃ§/Kapa Butonu -->
  <div class="chatbot-button" (click)="toggleChat()">
    <span>LLM</span>
  </div>

  <!-- Chatbox Ä°Ã§eriÄŸi -->
  <div *ngIf="expanded" class="chatbox">
    <!-- Header -->
    <div class="chatbox-header">
      <h3>Chatbot</h3>
      <button class="close-button" (click)="closeChat()">Ã—</button>
    </div>

    <!-- Chat GeÃ§miÅŸi -->
    <div class="chatbox-history">
      <div *ngFor="let message of messages">
        <div
          [class.user]="message.role === 'user'"
          [class.assistant]="message.role === 'assistant'"
        >
          {{ message.text }}
        </div>
      </div>
    </div>

    <!-- Chat Girdisi -->
    <div class="chatbox-input">
      <!-- GÃ–RSELDE PAPERCLIP ICON (DOSYA EKLEME) BUTONU -->
      <button
        id="attachmentBtn"
        class="attach-button"
        type="button"
        (click)="triggerAttachmentInput()"
      >
        ðŸ“Ž
      </button>

      <!-- GÄ°ZLÄ° DOSYA INPUT -->
      <input
        type="file"
        id="chatAttachInput"
        style="display: none"
        (change)="onChatFileSelected($event)"
      />

      <!-- KullanÄ±cÄ±nÄ±n metin girdiÄŸi alan -->
      <input
        type="text"
        [(ngModel)]="userMessage"
        placeholder="Mesaj yazÄ±n..."
        (keydown.enter)="sendMessage()"
      />
      <button (click)="sendMessage()">GÃ¶nder</button>
    </div>
  </div>
</div>
